<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ููู ุงููุบุฉ ุงูุนุฑุจูุฉ โ ูุณุงุจูุฉ</title>
    <meta name="description" content="ูุณุงุจูุฉ ุดุนุฑ ุนุฑุจูุฉ ูุจููุฉ ุจู React ุชุนูู ูููู ูุงุญุฏ ุนูู GitHub Pages" />
    <!-- Tailwind via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React + ReactDOM UMD builds (production) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel Standalone to transpile JSX in the browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body class="min-h-screen bg-gradient-to-br from-blue-100 to-indigo-200">
    <div id="root"></div>

    <!-- App (no imports/exports; same logic/UI). Babel compiles JSX with env+react presets. -->
    <script type="text/babel" data-presets="env,react">
      const { useState } = React;

      function App() {
        // 1. ุชุนุฑูู ุฃุณุฆูุฉ ุงููุณุงุจูุฉ
        const questions = [
          {
            questionText: "ูุงูููู ูู ุงูุญุจู ุงููุตููู ุฅูููุง*ููุญุจู ูุจุนู ุฎููุฑู ูุง ููุถูุจู",
            options: ["ุนุจุฏุงููู ููุฑูู ุญูุงู", "ูุญูุฏ ุงููุฑุงุชู", "ุนูู ุฏูุฑ", "ูุจูู ุณูุงูุฉ"],
            correctAnswer: "ุนุจุฏุงููู ููุฑูู ุญูุงู",
          },
          {
            questionText: "ุชุฒูุฒููู ุงูุทููุฑู ูู ุฃุนูู ุฎูุงุฆููููุง*ูุชูุชุดู ุงููููุณู ุจุงูุฃูุญุงู ูุงูุทูุฑูุจู",
            options: ["ุนุจุฏุงููู ููุฑูู ุญูุงู", "ูุญูุฏ ุงููุฑุงุชู", "ุนูู ุฏูุฑ", "ูุจูู ุณูุงูุฉ"],
            correctAnswer: "ูุจูู ุณูุงูุฉ",
          },
          {
            questionText: "ูุงูุถูุง ุณุฑุงุนุงู ูููุนุงูู ุฌูุฏููู*ูุงุฒุงูู ูููู ููุนููุง ุงุณุชุนุฏุงุฏู",
            options: ["ุนุจุฏุงููู ููุฑูู ุญูุงู", "ูุญูุฏ ุงููุฑุงุชู", "ุนูู ุฏูุฑ", "ูุจูู ุณูุงูุฉ"],
            correctAnswer: "ูุญูุฏ ุงููุฑุงุชู",
          },
          {
            questionText: "ูุง ููุญู ูููู ูุดุชุฑู ุฎุตูุงู ูููุชููููู*ุจุงููุงููุ ูููุง ููู ูู ุดูู ุฅููุงูู",
            options: ["ุนุจุฏุงููู ููุฑูู ุญูุงู", "ูุญูุฏ ุงููุฑุงุชู", "ุนูู ุฏูุฑ", "ูุจูู ุณูุงูุฉ"],
            correctAnswer: "ุนูู ุฏูุฑ",
          },
          {
            questionText: "ุจุงูุญุจู ูุตูุน ูุง ูุดุงุกู ูู ุงูุนููุง*ูุชุฐูุจู ููู ููุงุฑูู ุงูุทูุจูุงุช",
            options: ["ูุฒุงุฑ ูุจุงูู", "ุนูู ุฏูุฑ", "ุนุจุฏ ุงูุฑุญูู ุญูุฏุฑ", "ูุจูู ุณูุงูุฉ"],
            correctAnswer: "ุนุจุฏ ุงูุฑุญูู ุญูุฏุฑ",
          },
        ];

        // 2. ุฅุฏุงุฑุฉ ุญุงูุฉ ุงููููู (State Management)
        const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);
        const [score, setScore] = useState(0);
        const [showResults, setShowResults] = useState(false);
        const [selectedAnswer, setSelectedAnswer] = useState(null);
        const [feedback, setFeedback] = useState('');
        const [answeredCorrectly, setAnsweredCorrectly] = useState(false);
        const [quizStarted, setQuizStarted] = useState(false);

        // ูุชุบูุฑ ูููู (Mock) ููุนุฑูู ุงููุณุชุฎุฏู
        const [userId] = useState('USER_' + Math.random().toString(36).substring(2, 8).toUpperCase());

        // 3. ุฏุงูุฉ ุจุฏุก ุงููุณุงุจูุฉ
        const handleStartQuiz = () => {
          setQuizStarted(true);
          setCurrentQuestionIndex(0);
          setScore(0);
          setShowResults(false);
          setSelectedAnswer(null);
          setFeedback('');
          setAnsweredCorrectly(false);
        };

        // 4. ุฏุงูุฉ ุงูุชุนุงูู ูุน ุงุฎุชูุงุฑ ุงูุฅุฌุงุจุฉ
        const handleAnswerClick = (option) => {
          if (selectedAnswer !== null) return; // ููุน ุชุบููุฑ ุงูุฅุฌุงุจุฉ ุจุนุฏ ุงูุงุฎุชูุงุฑ

          setSelectedAnswer(option);
          const isCorrect = option === questions[currentQuestionIndex].correctAnswer;
          setAnsweredCorrectly(isCorrect);

          if (isCorrect) {
            setScore(score + 1);
            setFeedback('ุฅุฌุงุจุฉ ุตุญูุญุฉ! ๐');
          } else {
            setFeedback(\`ุฅุฌุงุจุฉ ุฎุงุทุฆุฉ. ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ูู: \${questions[currentQuestionIndex].correctAnswer}\`);
          }
        };

        // 5. ุฏุงูุฉ ุงูุงูุชูุงู ููุณุคุงู ุงูุชุงูู
        const handleNextQuestion = () => {
          if (selectedAnswer === null) return; // ูุง ุชุณูุญ ุจุงูุงูุชูุงู ุฏูู ุงุฎุชูุงุฑ ุฅุฌุงุจุฉ

          setFeedback('');
          setSelectedAnswer(null);
          setAnsweredCorrectly(false);

          const nextQuestion = currentQuestionIndex + 1;

          if (nextQuestion < questions.length) {
            setCurrentQuestionIndex(nextQuestion);
          } else {
            setShowResults(true);
          }
        };

        // 6. ุฏุงูุฉ ุฅุนุงุฏุฉ ุชุดุบูู ุงููุณุงุจูุฉ
        const handleRestartQuiz = () => {
          // ุฅุนุงุฏุฉ ุชุนููู ุญุงูุฉ quizStarted ุฅูู false ูุนุฑุถ ุดุงุดุฉ ุงูุจุฏุงูุฉ ุฃููุงู
          setQuizStarted(false);
          // ุฅุนุงุฏุฉ ุชุนููู ุฌููุน ุงูุนุฏุงุฏุงุช ูุงูุญุงูุงุช
          handleStartQuiz();
        };

        const currentQuestion = questions[currentQuestionIndex];

        // 7. ุนุฑุถ ุงููููู (JSX)
        return (
          <div
            className="min-h-screen bg-gradient-to-br from-blue-100 to-indigo-200 flex items-center justify-center p-4 font-inter"
            dir="rtl" // ูุถูุงู ุงุชุฌุงู ุงููุต ุงูุนุฑุจู ุจุงููุงูู
          >
            <div className="bg-white p-8 rounded-3xl shadow-2xl w-full max-w-2xl text-center flex flex-col items-center border border-indigo-300">
              <h1 className="text-5xl md:text-6xl font-extrabold text-indigo-700 mb-6 drop-shadow-lg leading-tight">
                ููู ุงููุบุฉ ุงูุนุฑุจููุฉ
              </h1>
              {userId && (
                <p className="text-sm text-gray-500 mb-4">
                  ูุนุฑูู ุงููุณุชุฎุฏู: <span className="font-semibold text-gray-700 break-words">{userId}</span>
                </p>
              )}

              {/* ุดุงุดุฉ ุงูุจุฏุงูุฉ */}
              {!quizStarted ? (
                <div className="flex flex-col items-center">
                  <p className="text-2xl text-gray-700 mb-8 max-w-prose">
                    ุงุฎุชุจุฑ ูุนูููุงุชู ูู ุงูุดุนุฑ ุงูุนุฑุจู ูุฃุจุญุฑ ูู ุนูุงูู ุงููููุฉ ุงูุณุงุญุฑุฉ.
                  </p>
                  <button
                    onClick={handleStartQuiz}
                    className="px-8 py-4 bg-gradient-to-r from-emerald-500 to-teal-600 text-white text-2xl font-bold rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 ease-in-out flex items-center justify-center space-x-3"
                  >
                    <span className="text-3xl">๐</span>
                    <span>ุงุจุฏุฃ ุงููุณุงุจูุฉ</span>
                  </button>
                </div>
              ) :

              /* ุดุงุดุฉ ุงููุชุงุฆุฌ */
              showResults ? (
                <div className="w-full">
                  <h2 className="text-4xl font-bold text-indigo-800 mb-6">ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ</h2>
                  <p className="text-3xl text-gray-700 mb-8">
                    ููุฏ ุฃุญุฑุฒุช <span className="font-extrabold text-emerald-600">{score}</span> ูู ุฃุตู <span className="font-extrabold text-indigo-600">{questions.length}</span> ููุงุท!
                  </p>
                  <p className="text-xl text-gray-600 mb-10">
                    {score === questions.length ? (
                      'ุฃูุช ุจุงููุนู ููู ุงููุบุฉ ุงูุนุฑุจูุฉ!๐'
                    ) : score >= questions.length / 2 ? (
                      'ุฃุญุณูุช! ุฃุฏุงุก ุฌูุฏ ุฌุฏุงูุ ุงุณุชูุฑ ูู ุงููุฑุงุฌุนุฉ.โจ'
                    ) : (
                      'ูุง ุจุฃุณุ ูุฏูู ูุฑุตุฉ ุฃุฎุฑู ูุชุตุจุญ ููู ุงููุบุฉ ุงูุนุฑุจูุฉ! ๐'
                    )}
                  </p>
                  <button
                    onClick={handleRestartQuiz}
                    className="px-8 py-4 bg-gradient-to-r from-purple-500 to-indigo-600 text-white text-2xl font-bold rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 ease-in-out flex items-center justify-center space-x-3"
                  >
                    <span className="text-3xl">๐</span>
                    <span>ุฅุนุงุฏุฉ ุงููุณุงุจูุฉ</span>
                  </button>
                </div>
              ) : (

                /* ุดุงุดุฉ ุงูุณุคุงู */
                <div className="w-full text-right flex flex-col items-center">
                  <div className="text-xl text-gray-600 mb-6 w-full flex justify-between items-center px-2">
                    <span className="font-semibold">
                      ุงูุณุคุงู {currentQuestionIndex + 1} / {questions.length}
                    </span>
                    <span className="font-semibold">
                      ุงูููุงุท: {score}
                    </span>
                  </div>

                  <div className="bg-indigo-50 p-6 rounded-2xl shadow-inner w-full mb-8 border border-indigo-200">
                    <p dir="rtl" className="text-3xl font-bold text-indigo-900 leading-relaxed">
                      "{currentQuestion.questionText}"
                    </p>
                    <p dir="rtl" className="text-xl text-indigo-700 mt-4">
                      ูู ูุงุฆู ูุฐุง ุงูุจูุชุ
                    </p>
                  </div>

                  <div className="grid grid-cols-1 md:grid-cols-2 gap-4 w-full mb-8">
                    {currentQuestion.options.map((option, index) => (
                      <button
                        key={index}
                        onClick={() => handleAnswerClick(option)}
                        disabled={selectedAnswer !== null}
                        className={`
                          flex items-center justify-center text-xl md:text-2xl px-6 py-4
                          rounded-xl shadow-md transition-all duration-200 ease-in-out
                          ${selectedAnswer === option
                            ? (answeredCorrectly ? 'bg-emerald-200 border-emerald-500 text-emerald-800 font-bold transform scale-105' : 'bg-red-200 border-red-500 text-red-800 font-bold transform scale-105')
                            : 'bg-indigo-100 hover:bg-indigo-200 text-indigo-800 hover:shadow-lg border border-indigo-300'
                          }
                          ${selectedAnswer !== null && selectedAnswer !== option && 'opacity-70 cursor-not-allowed'}
                        `}
                      >
                        {option}
                      </button>
                    ))}
                  </div>

                  {feedback && (
                    <p
                      className={`text-2xl font-semibold mb-8 px-4 py-2 rounded-lg ${
                        answeredCorrectly ? 'bg-emerald-100 text-emerald-700' : 'bg-red-100 text-red-700'
                      }`}
                    >
                      {feedback}
                    </p>
                  )}

                  <button
                    onClick={handleNextQuestion}
                    disabled={selectedAnswer === null}
                    className={`
                      px-8 py-4 text-white text-2xl font-bold rounded-full shadow-lg transform
                      transition-all duration-300 ease-in-out
                      ${selectedAnswer !== null
                        ? 'bg-gradient-to-r from-blue-500 to-purple-600 hover:shadow-xl hover:scale-105'
                        : 'bg-gray-400 cursor-not-allowed'
                      }
                    `}
                  >
                    {currentQuestionIndex === questions.length - 1 ? 'ุฅููุงุก ุงููุณุงุจูุฉ' : 'ุงูุณุคุงู ุงูุชุงูู'}
                    <span className="mr-2 text-3xl">โก๏ธ</span>
                  </button>
                </div>
              )}
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
  </body>
</html>
