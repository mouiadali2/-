<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ù…Ù„Ùƒ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠÙ‘Ø©</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --indigo-50:#eef2ff;--indigo-100:#e0e7ff;--indigo-200:#c7d2fe;--indigo-300:#a5b4fc;
      --indigo-600:#4f46e5;--indigo-700:#4338ca;--purple-600:#7c3aed;--emerald-100:#d1fae5;
      --emerald-200:#a7f3d0;--emerald-500:#10b981;--emerald-700:#047857;--red-100:#fee2e2;
      --red-200:#fecaca;--red-500:#ef4444;--red-700:#b91c1c;--gray-600:#4b5563;--gray-700:#374151;
      --blue-500:#3b82f6;--purple-500:#8b5cf6;--teal-600:#0d9488;--emerald-500:#10b981;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:"Tajawal",system-ui,-apple-system,Segoe UI,Arial,sans-serif;
      background:linear-gradient(135deg,#dbeafe,#e9d5ff);
      min-height:100vh;display:flex;align-items:center;justify-content:center;padding:16px;
    }
    .card{
      width:100%;max-width:880px;background:#fff;border-radius:24px;
      padding:32px;border:1px solid var(--indigo-300);
      box-shadow:0 20px 40px rgba(67,56,202,.15);
      text-align:center;display:flex;flex-direction:column;align-items:center;
    }
    h1{margin:0 0 16px;font-size:46px;line-height:1.1;color:var(--indigo-700);font-weight:800;text-shadow:0 2px 0 #fff}
    h2{margin:0 0 12px;color:#1f2937;font-weight:800}
    p{color:#334155;margin:0 0 8px}
    .hidden{display:none!important}

    .btn{
      display:inline-flex;align-items:center;justify-content:center;gap:8px;
      padding:14px 28px;border-radius:999px;border:0;cursor:pointer;
      font-size:20px;font-weight:800;color:#fff;transition:.2s transform,.2s box-shadow,.2s opacity;
      box-shadow:0 10px 20px rgba(0,0,0,.08);
    }
    .btn:disabled{opacity:.5;cursor:not-allowed}
    .btn-primary{background:linear-gradient(90deg,var(--blue-500),var(--purple-600))}
    .btn-start{background:linear-gradient(90deg,var(--emerald-500),var(--teal-600))}
    .btn:hover{transform:scale(1.03);box-shadow:0 14px 28px rgba(0,0,0,.12)}

    .input{
      width:100%;padding:14px 18px;font-size:18px;border-radius:999px;border:2px solid var(--indigo-200);
      background:var(--indigo-100);color:#111827;outline:none;text-align:right;
    }
    .input:focus{border-color:var(--indigo-300);box-shadow:0 0 0 3px rgba(99,102,241,.25)}

    .stack{display:flex;flex-direction:column;gap:16px;width:100%;max-width:520px;margin:auto}
    .muted{color:#475569}
    .kpi{display:flex;justify-content:space-between;gap:16px;color:#111827;margin:0 0 16px}
    .qbox{
      width:100%;background:var(--indigo-50);border:1px solid var(--indigo-200);
      border-radius:18px;padding:20px;text-align:right;box-shadow:inset 0 1px 8px rgba(79,70,229,.06);
      margin:0 0 22px;
    }
    .qbox p{margin:8px 0}
    .grid{display:grid;grid-template-columns:1fr;gap:12px;width:100%}
    @media(min-width:700px){.grid{grid-template-columns:1fr 1fr}}

    .opt{
      border:1px solid var(--indigo-300);background:#eef2ff;color:#1e293b;border-radius:14px;
      padding:14px 16px;font-size:20px;cursor:pointer;transition:.15s;
    }
    .opt:hover{filter:brightness(0.98)}
    .opt.correct{background:var(--emerald-200);border-color:var(--emerald-500);color:var(--emerald-700);transform:scale(1.02)}
    .opt.wrong{background:var(--red-200);border-color:var(--red-500);color:var(--red-700);transform:scale(1.02)}
    .opt.disabled{opacity:.7;cursor:not-allowed}

    .alert{
      margin:18px 0;padding:12px 16px;border-radius:10px;font-size:20px;font-weight:700;
    }
    .alert.ok{background:var(--emerald-100);color:var(--emerald-700)}
    .alert.bad{background:var(--red-100);color:var(--red-700)}
    .spacer{height:8px}
  </style>
</head>
<body>
  <main class="card" id="app">
    <h1>Ù…Ù„Ùƒ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠÙ‘Ø©</h1>

    <!-- Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
    <section id="screen-login" class="stack">
      <h2>Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ</h2>
      <p class="muted">Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ ÙˆØ¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠ.</p>
      <input id="name" class="input" type="text" placeholder="Ø§Ù„Ø§Ø³Ù…" />
      <p id="login-error" class="alert bad hidden"></p>
      <button id="btn-login" class="btn btn-primary">Ø¯Ø®ÙˆÙ„</button>
    </section>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
    <section id="screen-start" class="stack hidden">
      <p class="muted" style="font-size:22px">Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙŠØ§ <b id="welcome-name" style="color:#4f46e5"></b></p>
      <p style="font-size:20px">Ø§Ø®ØªØ¨Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ ÙÙŠ Ø§Ù„Ø´Ø¹Ø± Ø§Ù„Ø¹Ø±Ø¨ÙŠ.</p>
      <button id="btn-start" class="btn btn-start"><span style="font-size:26px">ğŸš€</span> Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©</button>
    </section>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ -->
    <section id="screen-quiz" class="stack hidden" style="width:100%;max-width:740px">
      <div class="kpi">
        <span>Ø§Ù„Ø³Ø¤Ø§Ù„ <b id="q-idx">1</b>/<b id="q-total">5</b></span>
        <span>Ø§Ù„Ù†Ù‚Ø§Ø·: <b id="score">0</b></span>
      </div>

      <div class="qbox">
        <p style="font-size:26px;font-weight:800;color:#1e1b4b" id="q-text"></p>
        <p class="muted" style="font-size:18px">Ù…Ù† Ù‚Ø§Ø¦Ù„ Ù‡Ø°Ø§ Ø§Ù„Ø¨ÙŠØªØŸ</p>
      </div>

      <div id="opts" class="grid"></div>

      <div id="feedback" class="alert hidden"></div>

      <button id="btn-next" class="btn btn-primary" disabled>
        <span id="next-label">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</span> <span style="font-size:22px">â¡ï¸</span>
      </button>
    </section>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
    <section id="screen-result" class="stack hidden">
      <h2>Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</h2>
      <p style="font-size:24px">Ù„Ù‚Ø¯ Ø£Ø­Ø±Ø²Øª <b id="final-score" style="color:#059669"></b> Ù…Ù† Ø£ØµÙ„ <b id="final-total" style="color:#4f46e5"></b> Ù†Ù‚Ø§Ø·.</p>
      <p id="final-msg" class="muted" style="font-size:18px"></p>
      <button id="btn-restart" class="btn btn-primary"><span style="font-size:24px">ğŸ”„</span> Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©</button>
    </section>
  </main>

  <script>
    // 1) Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
    const questions = [
      {
        questionText:"ÙØ§Ù†Ù‡Ù„Ù’ Ù…Ù† Ø§Ù„Ø­Ø¨Ù‘ Ø§Ù„Ù…ØµÙÙ‘Ù‰ Ø¥Ù†Ù‘Ù‡Ø§*Ù„Ù„Ø­Ø¨Ù‘ Ù†Ø¨Ø¹ÙŒ Ø®ÙŠÙ‘Ø±ÙŒ Ù„Ø§ ÙŠÙ†Ø¶ÙØ¨Ù",
        options:["Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ ÙŠÙˆØ±ÙƒÙŠ Ø­Ù„Ø§Ù‚","Ù…Ø­Ù…Ø¯ Ø§Ù„ÙØ±Ø§ØªÙŠ","Ø¹Ù„ÙŠ Ø¯Ù…Ø±","Ù†Ø¨ÙŠÙ‡ Ø³Ù„Ø§Ù…Ø©"],
        correctAnswer:"Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ ÙŠÙˆØ±ÙƒÙŠ Ø­Ù„Ø§Ù‚",
      },
      {
        questionText:"ØªØ²Ù‚Ø²ÙÙ‚Ù Ø§Ù„Ø·Ù‘ÙŠØ±Ù ÙÙŠ Ø£Ø¹Ù„Ù‰ Ø®Ù…Ø§Ø¦ÙÙ„ÙÙ‡Ø§*ÙØªÙ†ØªØ´ÙŠ Ø§Ù„Ù†Ù‘ÙØ³Ù Ø¨Ø§Ù„Ø£Ù„Ø­Ø§Ù† ÙˆØ§Ù„Ø·Ù‘Ø±ÙØ¨Ù",
        options:["Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ ÙŠÙˆØ±ÙƒÙŠ Ø­Ù„Ø§Ù‚","Ù…Ø­Ù…Ø¯ Ø§Ù„ÙØ±Ø§ØªÙŠ","Ø¹Ù„ÙŠ Ø¯Ù…Ø±","Ù†Ø¨ÙŠÙ‡ Ø³Ù„Ø§Ù…Ø©"],
        correctAnswer:"Ù†Ø¨ÙŠÙ‡ Ø³Ù„Ø§Ù…Ø©",
      },
      {
        questionText:"ÙØ§Ù…Ø¶ÙˆØ§ Ø³Ø±Ø§Ø¹Ø§Ù‹ Ù„Ù„Ù…Ø¹Ø§Ù„ÙŠ Ø¬Ù‡Ø¯ÙÙƒÙ…*Ù…Ø§Ø²Ø§Ù„Ù ÙÙŠÙƒÙ… Ù„Ù„Ø¹ÙÙ„Ø§ Ø§Ø³ØªØ¹Ø¯Ø§Ø¯Ù",
        options:["Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ ÙŠÙˆØ±ÙƒÙŠ Ø­Ù„Ø§Ù‚","Ù…Ø­Ù…Ø¯ Ø§Ù„ÙØ±Ø§ØªÙŠ","Ø¹Ù„ÙŠ Ø¯Ù…Ø±","Ù†Ø¨ÙŠÙ‡ Ø³Ù„Ø§Ù…Ø©"],
        correctAnswer:"Ù…Ø­Ù…Ø¯ Ø§Ù„ÙØ±Ø§ØªÙŠ",
      },
      {
        questionText:"ÙŠØ§ ÙˆÙŠØ­Ù Ù…ÙÙ†Ù’ ÙŠØ´ØªØ±ÙŠ Ø®ØµÙ…Ø§Ù‹ Ù„ÙŠÙ‚ØªÙÙ„ÙÙ‡Ù*Ø¨Ø§Ù„Ù…Ø§Ù„ÙØŒ Ù…Ù‡Ù…Ø§ ÙŠÙƒÙ† ÙÙŠ Ø´ÙƒÙ‘ Ø¥Ù‚Ù„Ø§Ù„Ù",
        options:["Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ ÙŠÙˆØ±ÙƒÙŠ Ø­Ù„Ø§Ù‚","Ù…Ø­Ù…Ø¯ Ø§Ù„ÙØ±Ø§ØªÙŠ","Ø¹Ù„ÙŠ Ø¯Ù…Ø±","Ù†Ø¨ÙŠÙ‡ Ø³Ù„Ø§Ù…Ø©"],
        correctAnswer:"Ø¹Ù„ÙŠ Ø¯Ù…Ø±",
      },
      {
        questionText:"Ø¨Ø§Ù„Ø­Ø¨Ù‘ Ù†ØµÙ†Ø¹ Ù…Ø§ Ù†Ø´Ø§Ø¡Ù Ù…Ù† Ø§Ù„Ø¹ÙÙ„Ø§*ÙˆØªØ°ÙˆØ¨Ù ÙÙŠÙ‡ ÙÙˆØ§Ø±Ù‚Ù Ø§Ù„Ø·Ù‘Ø¨Ù‚Ø§Øª",
        options:["Ù†Ø²Ø§Ø± Ù‚Ø¨Ø§Ù†ÙŠ","Ø¹Ù„ÙŠ Ø¯Ù…Ø±","Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­Ù…Ù† Ø­ÙŠØ¯Ø±","Ù†Ø¨ÙŠÙ‡ Ø³Ù„Ø§Ù…Ø©"],
        correctAnswer:"Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­Ù…Ù† Ø­ÙŠØ¯Ø±",
      },
    ];

    // 2) Ø§Ù„Ø­Ø§Ù„Ø©
    let current = 0;
    let score = 0;
    let selected = null;
    let answeredCorrectly = false;
    let quizStarted = false;
    let isLoggedIn = false;
    let userName = "", 
    // 3) Ù…Ø±Ø§Ø¬Ø¹ DOM
    const sLogin   = document.getElementById('screen-login');
    const sStart   = document.getElementById('screen-start');
    const sQuiz    = document.getElementById('screen-quiz');
    const sResult  = document.getElementById('screen-result');

    const nameInp  = document.getElementById('name');

    const loginErr = document.getElementById('login-error');
    const btnLogin = document.getElementById('btn-login');

    const welcome  = document.getElementById('welcome-name');
    const btnStart = document.getElementById('btn-start');

    const qIdx   = document.getElementById('q-idx');
    const qTot   = document.getElementById('q-total');
    const qText  = document.getElementById('q-text');
    const optsEl = document.getElementById('opts');
    const fb     = document.getElementById('feedback');
    const btnNext= document.getElementById('btn-next');
    const nextLabel = document.getElementById('next-label');
    const scoreEl = document.getElementById('score');

    const finalScore = document.getElementById('final-score');
    const finalTotal = document.getElementById('final-total');
    const finalMsg   = document.getElementById('final-msg');
    const btnRestart = document.getElementById('btn-restart');

    qTot.textContent = questions.length;

    // 4) ØªÙ†Ù‚Ù„ Ø§Ù„Ø´Ø§Ø´Ø§Øª
    function show(el){[sLogin,sStart,sQuiz,sResult].forEach(e=>e.classList.add('hidden'));el.classList.remove('hidden')}
    function startQuiz(){
      quizStarted = true;
      current = 0; score = 0; selected = null; answeredCorrectly = false;
      scoreEl.textContent = score;
      renderQuestion();
      show(sQuiz);
    }

    // 5) ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
    btnLogin.addEventListener('click', () => {
      const n = nameInp.value.trim();
      loginErr.classList.add('hidden');
      userName=n; isLoggedIn=true;
      welcome.textContent=userName;
      show(sStart);
    });

    // 6) Ø¨Ø¯Ø§ÙŠØ© ÙˆØ¥Ø¹Ø§Ø¯Ø©
    btnStart.addEventListener('click', startQuiz);
    btnRestart.addEventListener('click', ()=>{show(sStart)});

    // 7) Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„
    function renderQuestion(){
      const q = questions[current];
      qIdx.textContent = current+1;
      qText.textContent = `"${q.questionText}"`;
      optsEl.innerHTML = '';
      selected = null; answeredCorrectly=false;
      fb.classList.add('hidden'); fb.textContent='';
      btnNext.disabled = true;
      nextLabel.textContent = current === questions.length-1 ? 'Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©' : 'Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ';

      q.options.forEach(opt=>{
        const b=document.createElement('button');
        b.className='opt';
        b.textContent=opt;
        b.addEventListener('click',()=>{
          if(selected!==null) return;
          selected=opt;
          const ok = opt===q.correctAnswer;
          answeredCorrectly = ok;
          if(ok){
            b.classList.add('correct');
            score+=1; scoreEl.textContent=score;
            fb.textContent='Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! ğŸ‰';
            fb.className='alert ok';
          }else{
            b.classList.add('wrong');
            fb.textContent=`Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©. Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ: ${q.correctAnswer}`;
            fb.className='alert bad';
          }
          fb.classList.remove('hidden');
          // ØªØ¹Ø·ÙŠÙ„ Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
          [...optsEl.children].forEach(ch=>{
            if(ch!==b){ch.classList.add('disabled')}
            ch.disabled=true;
          });
          btnNext.disabled=false;
        });
        optsEl.appendChild(b);
      });
    }

    // 8) Ø§Ù„ØªØ§Ù„ÙŠ
    btnNext.addEventListener('click',()=>{
      if(selected===null) return;
      const next = current+1;
      if(next<questions.length){
        current=next;
        renderQuestion();
      }else{
        // Ù†ØªØ§Ø¦Ø¬
        finalScore.textContent = score;
        finalTotal.textContent = questions.length;
        let msg='';
        if(score===questions.length){msg='Ø£Ù†Øª Ø¨Ø§Ù„ÙØ¹Ù„ Ù…Ù„Ùƒ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©! ğŸ†'}
        else if(score>=questions.length/2){msg='Ø£Ø­Ø³Ù†Øª. Ø£Ø¯Ø§Ø¡ Ø¬ÙŠØ¯. Ø§Ø³ØªÙ…Ø±.'}
        else{msg='Ù„Ø§ Ø¨Ø£Ø³. Ø¬Ø±Ù‘Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.'}
        finalMsg.textContent = msg;
        show(sResult);
      }
    });

    // Ø¨Ø¯Ø¡ Ø¹Ù„Ù‰ Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„
    show(sLogin);
  </script>
</body>
</html>
